---
layout: post
title: "curl"
date: 2016-06-22 14:47:17 +0800
comments: true
categories: Cli
---

## Cookie



```
curl -b ./cookie.file -c ./cookie.file <URL>
## -c, --cookie-jar <cookie-file> : 将 cookie 保存在 cookie-file 中
## -b, --cookie "name=data"       : 以 key=value 形式提供 cookie
## -b, --cookie <cookie-file>     : 以文件形式提供 cookie
```

## URL Encode

```
curl -G --data-urlencode "search=hello world" -H "Accept:application/json" 'google.com?key=value'
## -G (--get) 表示将 -d, --data, 或 --data-urlencode 指定的数据作为 GET 请求的一部分
```

## POST

```
cat <<EOF | curl -k -L -v -X POST --header "Content-Type:application/json" -H "Accept:application/json" -d@- https://localhost:8443/controller/doLogin
{
    "username": "admin",
    "password": "admin"
}
EOF
## -d@- 用以简化 POST payload 的输入
```

## Certificate

```
curl -k --cert ./client.pem --key ./client.key.pem https://hao.cisco.com:8866
## --cert <certificate[:password]> : 证书文件
## --key                           : 私钥文件
## -k                              : 忽略服务器证书的认证
## --cacert                        : 授信 CA 列表文件，也可由环境变量 CURL_CA_BUNDLE 指定
```

[授信 CA 列表文件](http://curl.haxx.se/ca/cacert.pem) 

## Disable 'Expect: 100-continue'

```
curl -X PUT -Ss -H 'Expect:' -d@<payload-file> http://10.74.68.47/restconf/config/pnp-protocol
```
[Reference](http://www.iandennismiller.com/posts/curl-http1-1-100-continue-and-multipartform-data-post.html)

